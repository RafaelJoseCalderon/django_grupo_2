<div class="input-group mb-3">
  <label for="id_{{ widget.name }}" class="btn btn-outline-secondary">
    <i class="fas fa-file-upload"></i>
  </label>

  <label id="label_{{ widget.name }}" for="id_{{ widget.name }}" class="form-control">
    {{ widget.file_name|default:'Archivo no Seleccionado' }}
  </label>

  <input
    id="id_{{ widget.name }}"
    type="{{ widget.type }}"
    name="{{ widget.name }}"
    style="display:none"
    onchange="set_input_label(this.files[0].name)"
    {% include "django/forms/widgets/attrs.html" %}>

  {% if not widget.required %}
    <input
      type="checkbox"
      class="btn-check"
      id="{{ widget.checkbox_id }}"
      name="{{ widget.checkbox_name }}"
      autocomplete="off"
      {% if widget.attrs.disabled %} disabled {% endif %}
    >

    <label class="btn btn-outline-danger" for="{{ widget.checkbox_id }}">
      <i class="fas fa-trash-alt"></i>
    </label>
  {% endif %}
</div>

<!-- ver como poner esta cosa en algún lugar más apropiado -->
<script>
   set_input_label = (value) => {
    if(value) {
      document.getElementById("label_{{ widget.name }}").innerHTML = value;
    }
  };
</script>